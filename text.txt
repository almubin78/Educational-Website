Jannatu78@gmail.com
elamoni8@gmail.com


import React, { useState } from 'react';

const MCQSection = ({ questions, selectedAnswers, onSelectAnswer, onCheckAnswers }) => {
  const [currentPage, setCurrentPage] = useState(0);
  const [showCorrectAnswers, setShowCorrectAnswers] = useState(false);

  const maxQuestionsPerPage = 5;

  // Get the MCQ questions for the current page
  const currentQuestions = questions.slice(currentPage * maxQuestionsPerPage, (currentPage + 1) * maxQuestionsPerPage);
  // Determine if all questions on the page are answered
  const allQuestionsAnswered = currentQuestions.every((_, index) => selectedAnswers[currentPage * maxQuestionsPerPage + index]);


  const goToNextPage = () => {
    if (currentPage < Math.ceil(questions.length / maxQuestionsPerPage) - 1) {
      setCurrentPage(currentPage + 1);
      setShowCorrectAnswers(false); // Reset correct answers display
    }
  };

  const goToPrevPage = () => {
    if (currentPage > 0) {
      setCurrentPage(currentPage - 1);
      setShowCorrectAnswers(false); // Reset correct answers display
    }
  };
  return (
    <div className="mcq-section">
      <h3 className="text-lg divider font-bold mb-4">MCQ Section</h3>
      {currentQuestions.map((question, index) => (
        <div key={index} className="mcq-question bg-gray-100 rounded p-4 mb-4">
          <p className="text-gray-800 mb-2">{question.question}</p>
          <ul>
            {question.options.map((option, optionIndex) => (
              <li
                key={optionIndex}
                className={`btn  btn-sm mx-1 ${selectedAnswers[currentPage * maxQuestionsPerPage + index] === option ? 'btn-accent' : 'btn-outline'}`}
                onClick={() => onSelectAnswer(currentPage * maxQuestionsPerPage + index, option)}
              >
                {option}
              </li>
            ))}
          </ul>
        </div>
      ))}
      <div className="selected-answers mt-4">
        <h4 className="text-lg font-bold mb-2">Selected Answers</h4>
        {selectedAnswers.map((answer, index) => (
          <p key={index} className="mb-1">
            Q No: {index + 1}: {answer}
          </p>
        ))}
      </div>
      {/* Check answer button */}

      <button
        className='btn btn-accent mt-2'
        onClick={() => setShowCorrectAnswers(true)}
        disabled={!allQuestionsAnswered}
      >
        Check Answers
      </button>

      {/* Show answer Section */}
      {showCorrectAnswers && (
        <div className="correct-answers mt-4">
          <h4 className="text-lg font-bold mb-2">Correct Answers</h4>
          {currentQuestions.map((question, index) => (
            <p
              key={index}
              // className="mb-1" is changed to...
              className={`mb-1 ${selectedAnswers[currentPage * maxQuestionsPerPage + index] === question.correctAnswer ? 'correct-answer' : 'yellow'}`}
            >
              Question {index + 1}: {question.correctAnswer}
            </p>
          ))}
        </div>
      )}
      {/* Next page button */}
      <div className="pagination-buttons">
        <button className='btn' onClick={goToPrevPage} disabled={currentPage === 0}>Prev</button>
        <button className='btn' onClick={goToNextPage} disabled={currentPage === Math.ceil(questions.length / maxQuestionsPerPage) - 1}>Next</button>
      </div>
    </div>
  );
};

export default MCQSection;




[
  {
    "questionNo": 1,
    "level":"SSC",
    "subject":"physics",
    "type:"free",
    "question": "স্থির অবস্থান থেকে বিনা বাধায় কোন বস্তুকে যদি পড়তে দেওয়া হয় এবং ১ম সেকেন্ডে h দূরত্ব অরিক্রম করে 4 সেকেন্ড পর বস্তুর অতিক্রান্ত দূরত্ব কত হবে?",
    "options": ["4 h", "8 h", "16 h", "h/4"],
    "correctAnswer": "16 h"
  },
  {
    "questionNo": 2,
    "level":"SSC",
    "subject":"physics",
    "type:"free",
    "question": "কোনটি স্কেলার রাশি?",
    "options": ["বেগ", "ত্বরণ", "সরণ", "সময়"],
    "correctAnswer": "সময়"
  },
  {
    "questionNo": 3,
    "level":"SSC",
    "subject":"physics",
    "type:"free",
    "question": "এক ব্যক্তি 7 m ব্যাসার্ধ বিশিষ্ট বৃত্তাকার মাঠ 1.5 পাক ঘুরলে তার সরণ কত?",
    "options": ["0 m", "14 m", "43.98 m", "65.97 m"],
    "correctAnswer": "14 m"
  }
]